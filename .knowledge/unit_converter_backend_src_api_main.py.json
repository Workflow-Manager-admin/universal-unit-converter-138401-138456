{"is_source_file": true, "format": "Python", "description": "This is a FastAPI application implementing a REST API for a universal unit and currency converter. It includes endpoints for health checks, supported categories and units, unit conversions across categories (length, weight, temperature, speed), and currency conversions utilizing a third-party API (exchangerate.host). The file defines data models, conversion functions, API endpoints, and documentation.", "external_files": ["fastapi", "fastapi.middleware.cors", "fastapi.responses", "pydantic", "typing", "os", "httpx"], "external_methods": ["fastapi.FastAPI", "fastapi.HTTPException", "fastapi.Query", "fastapi.middleware.cors.CORSMiddleware", "fastapi.responses.JSONResponse", "pydantic.BaseModel", "pydantic.Field", "pydantic.root_validator", "httpx.AsyncClient"], "published": ["convert_length", "convert_weight", "convert_temperature", "convert_speed", "round_result"], "classes": [{"name": "UnitConversionRequest", "description": "Pydantic model for validating unit conversion requests, including category, from_unit, to_unit, and value. Includes validation logic for supported units."}, {"name": "UnitConversionResponse", "description": "Pydantic model for the response of unit conversion, reporting category, source and target units, input and converted values."}, {"name": "CurrencyConversionRequest", "description": "Pydantic model for currency conversion request, including source and target currencies and amount."}, {"name": "CurrencyConversionResponse", "description": "Pydantic model for currency conversion result, including source and target currencies, amount, rate, and converted amount."}], "methods": [{"name": "float convert_length(value: float, from_unit: str, to_unit: str)", "description": "Converts length units between specified units.", "scope": "", "scopeKind": ""}, {"name": "float convert_weight(value: float, from_unit: str, to_unit: str)", "description": "Converts weight units between specified units.", "scope": "", "scopeKind": ""}, {"name": "float convert_temperature(value: float, from_unit: str, to_unit: str)", "description": "Converts temperature between Celsius, Fahrenheit, and Kelvin.", "scope": "", "scopeKind": ""}, {"name": "float convert_speed(value: float, from_unit: str, to_unit: str)", "description": "Converts speed units between specified units.", "scope": "", "scopeKind": ""}, {"name": "float round_result(value: float)", "description": "Rounds a floating-point value for display based on magnitude.", "scope": "", "scopeKind": ""}, {"name": "api_usage_help()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "convert_currency(req: CurrencyConversionRequest)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "convert_units(request: UnitConversionRequest)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "custom_http_exception_handler(request, exc)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_categories()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_currency_symbols()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_units(category: str = Query(..., description=\"Category (length, weight, temperature, speed)\"))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "health_check()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "openapi_schema()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "validate_units(cls, values)", "scope": "UnitConversionRequest", "scopeKind": "class", "description": "unavailable"}], "calls": ["fastapi.FastAPI", "fastapi.HTTPException", "fastapi.Query", "fastapi.middleware.cors.CORSMiddleware", "fastapi.responses.JSONResponse", "httpx.AsyncClient", "app.get", "app.post", "app.exception_handler"], "search-terms": ["main.py", "FastAPI", "unit_converter_backend", "convert_temperature", "convert_weight", "convert_length", "convert_speed", "currency", "exchange", "API", "supported_categories", "convert_units", "CURRENCY_API_URL"], "state": 2, "file_id": 1, "knowledge_revision": 11, "git_revision": "1a8e70dec403199bcea11673978dbed7f7aedd5f", "revision_history": [{"7": "737fc748d324b726978bf39f32af765fb9438888"}, {"10": "1a8e70dec403199bcea11673978dbed7f7aedd5f"}, {"11": "1a8e70dec403199bcea11673978dbed7f7aedd5f"}], "ctags": [{"_type": "tag", "name": "CONVERSION_FUNC", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^CONVERSION_FUNC = {$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "CURRENCY_API_KEY", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^CURRENCY_API_KEY = os.getenv(\"CURRENCY_API_KEY\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "CURRENCY_API_URL", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^CURRENCY_API_URL = \"https:\\/\\/api.exchangerate.host\\/convert\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "CurrencyConversionRequest", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^class CurrencyConversionRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "CurrencyConversionResponse", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^class CurrencyConversionResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SUPPORTED_UNIT_CATEGORIES", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^SUPPORTED_UNIT_CATEGORIES = list(UNIT_CATEGORIES.keys())$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "UNIT_CATEGORIES", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^UNIT_CATEGORIES = {$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "UnitConversionRequest", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^class UnitConversionRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UnitConversionResponse", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^class UnitConversionResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "amount", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^    amount: float = Field(..., gt=0, description=\"Amount to convert (must be positive).\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "CurrencyConversionRequest", "scopeKind": "class"}, {"_type": "tag", "name": "api_usage_help", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^def api_usage_help():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^    category: Literal[\"length\", \"weight\", \"temperature\", \"speed\"] = Field(..., description=\"Cate/", "language": "Python", "typeref": "typename:Literal[\"length\", \"weight\", \"temperature\", \"speed\"]", "kind": "variable", "scope": "UnitConversionRequest", "scopeKind": "class"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^    category: str = Field(..., description=\"Unit category.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UnitConversionResponse", "scopeKind": "class"}, {"_type": "tag", "name": "convert_currency", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^async def convert_currency(req: CurrencyConversionRequest):$/", "language": "Python", "kind": "function", "signature": "(req: CurrencyConversionRequest)"}, {"_type": "tag", "name": "convert_length", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^def convert_length(value: float, from_unit: str, to_unit: str) -> float:$/", "language": "Python", "typeref": "typename:float", "kind": "function", "signature": "(value: float, from_unit: str, to_unit: str)"}, {"_type": "tag", "name": "convert_speed", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^def convert_speed(value: float, from_unit: str, to_unit: str) -> float:$/", "language": "Python", "typeref": "typename:float", "kind": "function", "signature": "(value: float, from_unit: str, to_unit: str)"}, {"_type": "tag", "name": "convert_temperature", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^def convert_temperature(value: float, from_unit: str, to_unit: str) -> float:$/", "language": "Python", "typeref": "typename:float", "kind": "function", "signature": "(value: float, from_unit: str, to_unit: str)"}, {"_type": "tag", "name": "convert_units", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^async def convert_units(request: UnitConversionRequest):$/", "language": "Python", "kind": "function", "signature": "(request: UnitConversionRequest)"}, {"_type": "tag", "name": "convert_weight", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^def convert_weight(value: float, from_unit: str, to_unit: str) -> float:$/", "language": "Python", "typeref": "typename:float", "kind": "function", "signature": "(value: float, from_unit: str, to_unit: str)"}, {"_type": "tag", "name": "converted_amount", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^    converted_amount: float = Field(..., description=\"Converted result.\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "CurrencyConversionResponse", "scopeKind": "class"}, {"_type": "tag", "name": "converted_value", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^    converted_value: float = Field(..., description=\"Result after conversion.\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "UnitConversionResponse", "scopeKind": "class"}, {"_type": "tag", "name": "custom_http_exception_handler", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^async def custom_http_exception_handler(request, exc):$/", "language": "Python", "kind": "function", "signature": "(request, exc)"}, {"_type": "tag", "name": "from_currency", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^    from_currency: str = Field(..., description=\"Source currency ISO code (e.g., USD).\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "CurrencyConversionRequest", "scopeKind": "class"}, {"_type": "tag", "name": "from_currency", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^    from_currency: str = Field(..., description=\"Source currency.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "CurrencyConversionResponse", "scopeKind": "class"}, {"_type": "tag", "name": "from_unit", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^    from_unit: str = Field(..., description=\"Source unit identifier.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UnitConversionRequest", "scopeKind": "class"}, {"_type": "tag", "name": "from_unit", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^    from_unit: str = Field(..., description=\"Source unit.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UnitConversionResponse", "scopeKind": "class"}, {"_type": "tag", "name": "get_categories", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^def get_categories():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_currency_symbols", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^async def get_currency_symbols():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_units", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^def get_units(category: str = Query(..., description=\"Category (length, weight, temperature, spe/", "language": "Python", "kind": "function", "signature": "(category: str = Query(..., description=\"Category (length, weight, temperature, speed)\"))"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "input_amount", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^    input_amount: float = Field(..., description=\"Requested amount.\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "CurrencyConversionResponse", "scopeKind": "class"}, {"_type": "tag", "name": "input_value", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^    input_value: float = Field(..., description=\"Input value.\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "UnitConversionResponse", "scopeKind": "class"}, {"_type": "tag", "name": "openapi_schema", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^def openapi_schema():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "rate", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^    rate: float = Field(..., description=\"Exchange rate used.\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "CurrencyConversionResponse", "scopeKind": "class"}, {"_type": "tag", "name": "round_result", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^def round_result(value: float) -> float:$/", "language": "Python", "typeref": "typename:float", "kind": "function", "signature": "(value: float)"}, {"_type": "tag", "name": "to_currency", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^    to_currency: str = Field(..., description=\"Target currency ISO code (e.g., EUR).\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "CurrencyConversionRequest", "scopeKind": "class"}, {"_type": "tag", "name": "to_currency", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^    to_currency: str = Field(..., description=\"Target currency.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "CurrencyConversionResponse", "scopeKind": "class"}, {"_type": "tag", "name": "to_unit", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^    to_unit: str = Field(..., description=\"Target unit identifier.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UnitConversionRequest", "scopeKind": "class"}, {"_type": "tag", "name": "to_unit", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^    to_unit: str = Field(..., description=\"Target unit.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UnitConversionResponse", "scopeKind": "class"}, {"_type": "tag", "name": "validate_units", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^    def validate_units(cls, values):$/", "language": "Python", "kind": "member", "signature": "(cls, values)", "scope": "UnitConversionRequest", "scopeKind": "class"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/universal-unit-converter-138401-138456/unit_converter_backend/src/api/main.py", "pattern": "/^    value: float = Field(..., description=\"Numeric value to convert.\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "UnitConversionRequest", "scopeKind": "class"}], "hash": "342fc4806440e2f578be2ca059bda978", "format-version": 4, "code-base-name": "unit_converter_backend", "filename": "unit_converter_backend/src/api/main.py", "fields": [{"name": "CONVERSION_FUNC = {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "CURRENCY_API_KEY = os.getenv(\"CURRENCY_API_KEY\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "CURRENCY_API_URL = \"https:\\/\\/api.exchangerate.host\\/convert\"", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SUPPORTED_UNIT_CATEGORIES = list(UNIT_CATEGORIES.keys())", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "UNIT_CATEGORIES = {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "float amount", "scope": "CurrencyConversionRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Literal[\"length\", \"weight\", \"temperature\", \"speed\"] category", "scope": "UnitConversionRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "str category", "scope": "UnitConversionResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "float converted_amount", "scope": "CurrencyConversionResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "float converted_value", "scope": "UnitConversionResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "str from_currency", "scope": "CurrencyConversionRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "str from_unit", "scope": "UnitConversionRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "float input_amount", "scope": "CurrencyConversionResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "float input_value", "scope": "UnitConversionResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "float rate", "scope": "CurrencyConversionResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "str to_currency", "scope": "CurrencyConversionRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "str to_unit", "scope": "UnitConversionRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "float value", "scope": "UnitConversionRequest", "scopeKind": "class", "description": "unavailable"}]}